{"ast":null,"code":"import { MIN_NUMBER, MAX_NUMBER } from '../constants/Actions';\nexport const initialState = {\n  message: '',\n  currentNumber: 4,\n  playerChoices: [],\n  computerChoices: [],\n  isLoose: false,\n  isVictory: false,\n  turn: 'player'\n};\n\nconst verifySendingNumber = (playerChoices, computerChoices, number) => {\n  for (let i = 0; i < playerChoices.length || i < computerChoices.length; i++) {\n    if (playerChoices[i] === number) {\n      return true;\n    } else if (computerChoices[i] === number) {\n      return false;\n    }\n  }\n};\n\nconst verifyNumber = () => {// VERIFICATION\n  // POUR : i de 1 a 100\n  // SI : i % nombre donne == 0 -> OK DIVISEUR\n  // SINON SI : POUR : j de 1 a 100 -> i * j == nombre donne -> OK MULTIPLE\n  // SINON : LOOSE\n};\n\nexport const reducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'ADD_YOUR_CHOICE':\n      console.log('Play Reducer', 'ADD_YOUR_CHOICE');\n      const isAlreadySend = verifySendingNumber(state.playerChoices, state.computerChoices, action.number);\n\n      if (isAlreadySend) {\n        return { ...state,\n          message: state.message = \"This number was already send, you loose\",\n          isLoose: state.isLoose = true\n        };\n      } else if (action.number) {\n        return { ...state,\n          message: state.message = `You send ${action.number}, computer playing`,\n          currentNumber: action.number,\n          playerChoices: state.playerChoices.concat(action.number),\n          turn: state.turn = \"computer\"\n        };\n      } else {\n        return { ...state,\n          message: state.message = \"Sorry, is not a correct entry, please resend\"\n        };\n      }\n\n    case 'ADD_COMPUTER_CHOICE':\n      console.log('Play Reducer', 'ADD_COMPUTER_CHOICE'); // Algo determinage partiel d'un coup\n\n      for (let i = MIN_NUMBER + 1; i < MAX_NUMBER; i++) {\n        if (i % state.currentNumber && !state.computerChoices.includes(i) && !state.playerChoices.includes(i)) {\n          // c'est un diviseur commun\n          console.log('i', i);\n          return { ...state,\n            message: state.message = \"It is your turn\",\n            currentNumber: i,\n            computerChoices: state.computerChoices.concat(i),\n            turn: state.turn = \"player\"\n          };\n        } else {\n          for (let j = MIN_NUMBER + 1; j < MAX_NUMBER; j++) {\n            if (j * i === state.currentNumber && !state.computerChoices.includes(j) && !state.playerChoices.includes(j)) {\n              // c'est un multiple\n              console.log('j', i);\n              return { ...state,\n                message: state.message = \"It is your turn\",\n                currentNumber: j,\n                computerChoices: state.computerChoices.concat(j),\n                turn: state.turn = \"player\"\n              };\n            }\n          }\n        }\n      }\n\n      return { ...state,\n        message: state.message = \"You won the game\",\n        isVictory: state.isVictory = true\n      };\n\n    case 'RESET':\n      return { ...state,\n        message: '',\n        playerChoices: [],\n        computerChoices: [],\n        isLoose: false,\n        turn: 'player'\n      };\n\n    default:\n      console.log('Play Reducer', 'unrecognised type');\n      return { ...state\n      };\n  }\n}; // CHOOSE\n// POUR : i de 1 a 100\n// SI : i % nombre choisi == 0 -> diviseurs communs donc on repond\n// SINON SI : POUR : j de 1 a 100 -> i * j == nombre choisi -> multiple donc on repond\n// SINON : JE SUIS BLOQUE\n// VERIFICATION\n// POUR : i de 1 a 100\n// SI : i % nombre donne == 0 -> OK DIVISEUR\n// SINON SI : POUR : j de 1 a 100 -> i * j == nombre donne -> OK MULTIPLE\n// SINON : LOOSE","map":{"version":3,"sources":["/Users/jeanbapt-sanchez/Documents/school/bddi-2020/gobelins-2020/Semaine-7/J4/game-juniper-green/src/reducers/Play.js"],"names":["MIN_NUMBER","MAX_NUMBER","initialState","message","currentNumber","playerChoices","computerChoices","isLoose","isVictory","turn","verifySendingNumber","number","i","length","verifyNumber","reducer","state","action","type","console","log","isAlreadySend","concat","includes","j"],"mappings":"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","sourcesContent":["import { MIN_NUMBER, MAX_NUMBER } from '../constants/Actions';\n\nexport const initialState = {\n  message: '',\n  currentNumber: 4,\n  playerChoices: [],\n  computerChoices: [],\n  isLoose: false,\n  isVictory: false,\n  turn: 'player',\n}\n\nconst verifySendingNumber = (playerChoices, computerChoices, number) => {\n  for (let i = 0; i < playerChoices.length || i < computerChoices.length; i++) {\n    if (playerChoices[i] === number) {\n      return true\n    } else if (computerChoices[i] === number) {\n      return false\n    }\n  }\n}\n\nconst verifyNumber = () => {\n\n  // VERIFICATION\n  // POUR : i de 1 a 100\n  // SI : i % nombre donne == 0 -> OK DIVISEUR\n  // SINON SI : POUR : j de 1 a 100 -> i * j == nombre donne -> OK MULTIPLE\n  // SINON : LOOSE\n}\n\nexport const reducer = (state = {}, action) => {\n  switch(action.type) {\n    case 'ADD_YOUR_CHOICE':\n      console.log('Play Reducer', 'ADD_YOUR_CHOICE')\n\n      const isAlreadySend = verifySendingNumber(state.playerChoices, state.computerChoices, action.number)\n\n      if (isAlreadySend) {\n        return {\n          ...state,\n          message: state.message = \"This number was already send, you loose\",\n          isLoose: state.isLoose = true\n        }\n      } else if (action.number) {\n        return {\n          ...state,\n          message: state.message = `You send ${action.number}, computer playing`,\n          currentNumber: action.number,\n          playerChoices: state.playerChoices.concat(action.number),\n          turn: state.turn = \"computer\"\n        }\n      } else {\n        return {\n          ...state,\n          message: state.message = \"Sorry, is not a correct entry, please resend\"\n        }\n      }\n\n    case 'ADD_COMPUTER_CHOICE':\n      console.log('Play Reducer', 'ADD_COMPUTER_CHOICE')\n\n      // Algo determinage partiel d'un coup\n      for (let i = MIN_NUMBER+1; i < MAX_NUMBER; i++) {\n        if (i % state.currentNumber && !state.computerChoices.includes(i) && !state.playerChoices.includes(i)) {\n          // c'est un diviseur commun\n          console.log('i', i);\n          return {\n            ...state,\n            message: state.message = \"It is your turn\",\n            currentNumber: i,\n            computerChoices: state.computerChoices.concat(i),\n            turn: state.turn = \"player\"\n          }\n        } else {\n          for (let j = MIN_NUMBER+1; j < MAX_NUMBER; j++) {\n            if ((j * i) === state.currentNumber && !state.computerChoices.includes(j) && !state.playerChoices.includes(j)) {\n              // c'est un multiple\n              console.log('j', i);\n              return {\n                ...state,\n                message: state.message = \"It is your turn\",\n                currentNumber: j,\n                computerChoices: state.computerChoices.concat(j),\n                turn: state.turn = \"player\"\n              }\n            }\n          }\n        }\n      }\n      return {\n        ...state,\n        message: state.message = \"You won the game\",\n        isVictory: state.isVictory = true\n      }\n\n    case 'RESET':\n      return {\n        ...state,\n        message: '',\n        playerChoices: [],\n        computerChoices: [],\n        isLoose: false,\n        turn: 'player'\n      }\n    default:\n      console.log('Play Reducer', 'unrecognised type')\n      return {\n        ...state\n      }\n  }\n}\n\n// CHOOSE\n// POUR : i de 1 a 100\n// SI : i % nombre choisi == 0 -> diviseurs communs donc on repond\n// SINON SI : POUR : j de 1 a 100 -> i * j == nombre choisi -> multiple donc on repond\n// SINON : JE SUIS BLOQUE\n\n// VERIFICATION\n// POUR : i de 1 a 100\n// SI : i % nombre donne == 0 -> OK DIVISEUR\n// SINON SI : POUR : j de 1 a 100 -> i * j == nombre donne -> OK MULTIPLE\n// SINON : LOOSE\n"]},"metadata":{},"sourceType":"module"}