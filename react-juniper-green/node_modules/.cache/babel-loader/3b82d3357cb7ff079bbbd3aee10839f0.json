{"ast":null,"code":"export const initialState = {\n  message: '',\n  playerChoices: [],\n  computerChoices: [],\n  isLoose: false\n};\nexport const reducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'ADD_YOUR_CHOICE':\n      console.log('Play Reducer', 'ADD_YOUR_CHOICE');\n      let isAlreadySend = false;\n\n      for (let i = 0; i < state.playerChoices.length; i++) {\n        console.log(state.playerChoices[i]);\n\n        if (state.playerChoices[i] === action.number) {\n          isAlreadySend = true;\n        }\n      }\n\n      for (let i = 0; i < state.computerChoices.length; i++) {\n        console.log(state.playerChoices[i]);\n\n        if (state.playerChoices[i] === action.number) {\n          isAlreadySend = true;\n        }\n      }\n\n      if (isAlreadySend) {\n        return { ...state,\n          message: state.message = 'This number was already send, you loose',\n          isLoose: state.isLoose = false\n        };\n      } else if (action.number) {\n        return { ...state,\n          playerChoices: state.playerChoices.concat(action.number),\n          message: state.message = `You send ${action.number}`\n        };\n      } else {\n        return { ...state,\n          message: state.message = 'Is not a valid number'\n        };\n      }\n\n    case 'ADD_COMPUTER_CHOICE':\n      console.log('Play Reducer', 'ADD_COMPUTER_CHOICE');\n      return { ...state,\n        choices: state.choices['computer'].concat(() => Math.random() * (100 - 0) + 0)\n      };\n\n    default:\n      console.log('Play Reducer', 'unrecognised type');\n      return { ...state\n      };\n  }\n}; // CHOOSE\n// POUR : i de 1 a 100\n// SI : i % nombre choisi == 0 -> diviseurs communs donc on repond\n// SINON SI : POUR : j de 1 a 100 -> i * j == nombre choisi -> multiple donc on repond\n// SINON : JE SUIS BLOQUE\n// VERIFICATION\n// POUR : i de 1 a 100\n// SI : i % nombre donne == 0 -> OK DIVISEUR\n// SINON SI : POUR : j de 1 a 100 -> i * j == nombre donne -> OK MULTIPLE\n// SINON : LOOSE","map":{"version":3,"sources":["/Users/jeanbapt-sanchez/Documents/school/bddi-2020/gobelins-2020/Semaine-7/J4/game-juniper-green/src/reducers/Play.js"],"names":["initialState","message","playerChoices","computerChoices","isLoose","reducer","state","action","type","console","log","isAlreadySend","i","length","number","concat","choices","Math","random"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;AAC1BC,EAAAA,OAAO,EAAE,EADiB;AAE1BC,EAAAA,aAAa,EAAE,EAFW;AAG1BC,EAAAA,eAAe,EAAE,EAHS;AAI1BC,EAAAA,OAAO,EAAE;AAJiB,CAArB;AAOP,OAAO,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAC7C,UAAOA,MAAM,CAACC,IAAd;AACE,SAAK,iBAAL;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,iBAA5B;AAEA,UAAIC,aAAa,GAAG,KAApB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,KAAK,CAACJ,aAAN,CAAoBW,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACnDH,QAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACJ,aAAN,CAAoBU,CAApB,CAAZ;;AACA,YAAIN,KAAK,CAACJ,aAAN,CAAoBU,CAApB,MAA2BL,MAAM,CAACO,MAAtC,EAA8C;AAC5CH,UAAAA,aAAa,GAAG,IAAhB;AACD;AACF;;AACD,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,KAAK,CAACH,eAAN,CAAsBU,MAA1C,EAAkDD,CAAC,EAAnD,EAAuD;AACrDH,QAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACJ,aAAN,CAAoBU,CAApB,CAAZ;;AACA,YAAIN,KAAK,CAACJ,aAAN,CAAoBU,CAApB,MAA2BL,MAAM,CAACO,MAAtC,EAA8C;AAC5CH,UAAAA,aAAa,GAAG,IAAhB;AACD;AACF;;AAED,UAAIA,aAAJ,EAAmB;AACjB,eAAO,EACL,GAAGL,KADE;AAELL,UAAAA,OAAO,EAAEK,KAAK,CAACL,OAAN,GAAgB,yCAFpB;AAGLG,UAAAA,OAAO,EAAEE,KAAK,CAACF,OAAN,GAAgB;AAHpB,SAAP;AAKD,OAND,MAMO,IAAIG,MAAM,CAACO,MAAX,EAAmB;AACxB,eAAO,EACL,GAAGR,KADE;AAELJ,UAAAA,aAAa,EAAEI,KAAK,CAACJ,aAAN,CAAoBa,MAApB,CAA2BR,MAAM,CAACO,MAAlC,CAFV;AAGLb,UAAAA,OAAO,EAAEK,KAAK,CAACL,OAAN,GAAiB,YAAWM,MAAM,CAACO,MAAO;AAH9C,SAAP;AAKD,OANM,MAMA;AACL,eAAO,EACL,GAAGR,KADE;AAELL,UAAAA,OAAO,EAAEK,KAAK,CAACL,OAAN,GAAgB;AAFpB,SAAP;AAID;;AAEH,SAAK,qBAAL;AACEQ,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,qBAA5B;AACA,aAAO,EACL,GAAGJ,KADE;AAELU,QAAAA,OAAO,EAAEV,KAAK,CAACU,OAAN,CAAc,UAAd,EAA0BD,MAA1B,CAAiC,MAAOE,IAAI,CAACC,MAAL,MAAiB,MAAM,CAAvB,IAA4B,CAApE;AAFJ,OAAP;;AAIF;AACET,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,mBAA5B;AACA,aAAO,EACL,GAAGJ;AADE,OAAP;AA7CJ;AAiDD,CAlDM,C,CAoDP;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA","sourcesContent":["export const initialState = {\n  message: '',\n  playerChoices: [],\n  computerChoices: [],\n  isLoose: false\n}\n\nexport const reducer = (state = {}, action) => {\n  switch(action.type) {\n    case 'ADD_YOUR_CHOICE':\n      console.log('Play Reducer', 'ADD_YOUR_CHOICE')\n\n      let isAlreadySend = false;\n      for (let i = 0; i < state.playerChoices.length; i++) {\n        console.log(state.playerChoices[i]);\n        if (state.playerChoices[i] === action.number) {\n          isAlreadySend = true\n        }\n      }\n      for (let i = 0; i < state.computerChoices.length; i++) {\n        console.log(state.playerChoices[i]);\n        if (state.playerChoices[i] === action.number) {\n          isAlreadySend = true\n        }\n      }\n\n      if (isAlreadySend) {\n        return {\n          ...state,\n          message: state.message = 'This number was already send, you loose',\n          isLoose: state.isLoose = false\n        }\n      } else if (action.number) {\n        return {\n          ...state,\n          playerChoices: state.playerChoices.concat(action.number),\n          message: state.message = `You send ${action.number}`\n        }\n      } else {\n        return {\n          ...state,\n          message: state.message = 'Is not a valid number'\n        }\n      }\n\n    case 'ADD_COMPUTER_CHOICE':\n      console.log('Play Reducer', 'ADD_COMPUTER_CHOICE')\n      return {\n        ...state,\n        choices: state.choices['computer'].concat(() => (Math.random() * (100 - 0) + 0))\n      }\n    default:\n      console.log('Play Reducer', 'unrecognised type')\n      return {\n        ...state\n      }\n  }\n}\n\n// CHOOSE\n// POUR : i de 1 a 100\n// SI : i % nombre choisi == 0 -> diviseurs communs donc on repond\n// SINON SI : POUR : j de 1 a 100 -> i * j == nombre choisi -> multiple donc on repond\n// SINON : JE SUIS BLOQUE\n\n// VERIFICATION\n// POUR : i de 1 a 100\n// SI : i % nombre donne == 0 -> OK DIVISEUR\n// SINON SI : POUR : j de 1 a 100 -> i * j == nombre donne -> OK MULTIPLE\n// SINON : LOOSE\n"]},"metadata":{},"sourceType":"module"}